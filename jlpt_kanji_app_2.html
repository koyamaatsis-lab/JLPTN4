<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT Êº¢Â≠óÂ≠¶Áøí„Ç¢„Éó„É™</title>
    <script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;

        function KanjiApp() {
          const [mode, setMode] = useState('menu');
          const [currentIndex, setCurrentIndex] = useState(0);
          const [selectedAnswer, setSelectedAnswer] = useState(null);
          const [showResult, setShowResult] = useState(false);
          const [score, setScore] = useState(0);
          const [quizCompleted, setQuizCompleted] = useState(false);
          const [wrongAnswers, setWrongAnswers] = useState([]);

          const vocabulary = [
            { kanji: "Êòì„Åó„ÅÑ", reading: "„ÇÑ„Åï„Åó„ÅÑ", meaning: "easy", vietnamese: "d·ªÖ" },
            { kanji: "Ë§áÈõë„Å™", reading: "„Åµ„Åè„Åñ„Å§„Å™", meaning: "complex", vietnamese: "ph·ª©c t·∫°p" },
            { kanji: "Ë≤øÊòì", reading: "„Åº„ÅÜ„Åà„Åç", meaning: "trade", vietnamese: "th∆∞∆°ng m·∫°i" },
            { kanji: "„ÅäÊπØ", reading: "„Åä„ÇÜ", meaning: "hot water", vietnamese: "n∆∞·ªõc n√≥ng" },
            { kanji: "Â§™ÈôΩ", reading: "„Åü„ÅÑ„Çà„ÅÜ", meaning: "sun", vietnamese: "m·∫∑t tr·ªùi" },
            { kanji: "ÈôΩÊ∞ó„Å™", reading: "„Çà„ÅÜ„Åç„Å™", meaning: "cheerful", vietnamese: "vui v·∫ª" },
            { kanji: "‰∫àÂÆö", reading: "„Çà„Å¶„ÅÑ", meaning: "schedule", vietnamese: "d·ª± ƒë·ªãnh" },
            { kanji: "‰∫àÂ†±", reading: "„Çà„Åª„ÅÜ", meaning: "forecast", vietnamese: "d·ª± b√°o" },
            { kanji: "‰∫àÁøí", reading: "„Çà„Åó„ÇÖ„ÅÜ", meaning: "preparation (for class)", vietnamese: "chu·∫©n b·ªã b√†i" },
            { kanji: "‰∫àÂÇôÊ†°", reading: "„Çà„Å≥„Åì„ÅÜ", meaning: "cram school", vietnamese: "tr∆∞·ªùng luy·ªán thi" },
            { kanji: "È†ÜÁï™", reading: "„Åò„ÇÖ„Çì„Å∞„Çì", meaning: "order; turn", vietnamese: "th·ª© t·ª±" },
            { kanji: "Â∫èÁõ§", reading: "„Åò„Çá„Å∞„Çì", meaning: "opening stage", vietnamese: "giai ƒëo·∫°n ƒë·∫ßu" },
            { kanji: "È†ê„Åë„Çã", reading: "„ÅÇ„Åö„Åë„Çã", meaning: "deposit; leave with", vietnamese: "g·ª≠i; giao ph√≥" },
            { kanji: "È†êÈáë", reading: "„Çà„Åç„Çì", meaning: "savings; deposit", vietnamese: "ti·ªÅn ti·∫øt ki·ªám" },
            { kanji: "È†ê„Åã„Çã", reading: "„ÅÇ„Åö„Åã„Çã", meaning: "keep; take care of", vietnamese: "gi·ªØ; chƒÉm s√≥c" },
            { kanji: "Â∑®Â§ß„Å™", reading: "„Åç„Çá„Å†„ÅÑ„Å™", meaning: "huge", vietnamese: "kh·ªïng l·ªì" },
            { kanji: "Â∑®‰∫∫", reading: "„Åç„Çá„Åò„Çì", meaning: "giant", vietnamese: "ng∆∞·ªùi kh·ªïng l·ªì" },
            { kanji: "Êãí„ÇÄ", reading: "„Åì„Å∞„ÇÄ", meaning: "refuse", vietnamese: "t·ª´ ch·ªëi" },
            { kanji: "ÊãíÂê¶„Åô„Çã", reading: "„Åç„Çá„Å≤„Åô„Çã", meaning: "reject", vietnamese: "t·ª´ ch·ªëi" },
            { kanji: "Ë∑ùÈõ¢", reading: "„Åç„Çá„Çä", meaning: "distance", vietnamese: "kho·∫£ng c√°ch" },
            { kanji: "Èï∑Ë∑ùÈõ¢", reading: "„Å°„Çá„ÅÜ„Åç„Çá„Çä", meaning: "long distance", vietnamese: "c·ª± ly d√†i" },
            { kanji: "ÂéüÂâá", reading: "„Åí„Çì„Åù„Åè", meaning: "principle", vietnamese: "nguy√™n t·∫Øc" },
            { kanji: "Ë¶èÂâá", reading: "„Åç„Åù„Åè", meaning: "rule", vietnamese: "n·ªôi quy" },
            { kanji: "ÂÅ¥", reading: "„Åå„Çè", meaning: "side", vietnamese: "ph√≠a" },
            { kanji: "Âè≥ÂÅ¥", reading: "„Åø„Åé„Åå„Çè", meaning: "right side", vietnamese: "b√™n ph·∫£i" },
            { kanji: "‰∫àÊ∏¨„Åô„Çã", reading: "„Çà„Åù„Åè„Åô„Çã", meaning: "predict", vietnamese: "d·ª± ƒëo√°n" },
            { kanji: "Ë®àÊ∏¨„Åô„Çã", reading: "„Åë„ÅÑ„Åù„Åè„Åô„Çã", meaning: "measure", vietnamese: "ƒëo" },
            { kanji: "Ë®àÊ∏¨Âô®", reading: "„Åë„ÅÑ„Åù„Åè„Åç", meaning: "measuring instrument", vietnamese: "thi·∫øt b·ªã ƒëo" },
            { kanji: "Ê∏¨„Çã", reading: "„ÅØ„Åã„Çã", meaning: "measure", vietnamese: "ƒëo" },
            { kanji: "ÂÆòÂÉö", reading: "„Åã„Çì„Çä„Çá„ÅÜ", meaning: "bureaucrat", vietnamese: "quan ch·ª©c ch√≠nh ph·ªß" },
            { kanji: "Â§ñ‰∫§ÂÆò", reading: "„Åå„ÅÑ„Åì„ÅÜ„Åã„Çì", meaning: "diplomat", vietnamese: "nh√† ngo·∫°i giao" },
            { kanji: "ÂÆòÂ∫Å", reading: "„Åã„Çì„Å°„Çá„ÅÜ", meaning: "government office", vietnamese: "c∆° quan nh√† n∆∞·ªõc" },
            { kanji: "Ê∞¥ÈÅì", reading: "„Åô„ÅÑ„Å©„ÅÜ", meaning: "water supply", vietnamese: "n∆∞·ªõc m√°y" },
            { kanji: "ÁÆ°ÁêÜËÅ∑", reading: "„Åã„Çì„Çä„Åó„Çá„Åè", meaning: "managerial position", vietnamese: "ch·ª©c qu·∫£n l√Ω" },
            { kanji: "‰øùÁÆ°„Åô„Çã", reading: "„Åª„Åã„Çì„Åô„Çã", meaning: "store; keep", vietnamese: "b·∫£o qu·∫£n" },
            { kanji: "ÁæéË°ìÈ§®", reading: "„Å≥„Åò„ÇÖ„Å§„Åã„Çì", meaning: "art museum", vietnamese: "b·∫£o t√†ng m·ªπ thu·∫≠t" },
            { kanji: "Âõ≥Êõ∏È§®", reading: "„Å®„Åó„Çá„Åã„Çì", meaning: "library", vietnamese: "th∆∞ vi·ªán" },
            { kanji: "È§®", reading: "„Åã„Çì", meaning: "building; hall", vietnamese: "t√≤a nh√†" },
            { kanji: "ËøΩÊ±Ç", reading: "„Å§„ÅÑ„Åç„ÇÖ„ÅÜ", meaning: "pursuit", vietnamese: "theo ƒëu·ªïi" },
            { kanji: "ËøΩ„ÅÑ„Åã„Åë„Çã", reading: "„Åä„ÅÑ„Åã„Åë„Çã", meaning: "chase", vietnamese: "theo ƒëu·ªïi" },
            { kanji: "ËøΩÁ™Å", reading: "„Å§„ÅÑ„Å®„Å§", meaning: "rear-end collision", vietnamese: "ƒë√¢m t·ª´ ph√≠a sau" },
            { kanji: "ÊïôÂ∏´", reading: "„Åç„Çá„ÅÜ„Åó", meaning: "teacher", vietnamese: "gi√°o vi√™n" },
            { kanji: "Ë™øÁêÜÂ∏´", reading: "„Å°„Çá„ÅÜ„Çä„Åó", meaning: "cook; chef", vietnamese: "ƒë·∫ßu b·∫øp" },
            { kanji: "‰ΩúÊõ≤„Åô„Çã", reading: "„Åï„Å£„Åç„Çá„Åè„Åô„Çã", meaning: "compose (music)", vietnamese: "s√°ng t√°c nh·∫°c" },
            { kanji: "Êõ≤„Åå„Çã", reading: "„Åæ„Åå„Çã", meaning: "turn; bend", vietnamese: "r·∫Ω" },
            { kanji: "‰∏ÄÊõ≤", reading: "„ÅÑ„Å£„Åç„Çá„Åè", meaning: "one song", vietnamese: "m·ªôt b√†i h√°t" }
          ];

          const generateQuizOptions = (correctIndex) => {
            const options = [vocabulary[correctIndex].reading];
            const usedIndices = [correctIndex];
            
            while (options.length < 4) {
              const randomIndex = Math.floor(Math.random() * vocabulary.length);
              if (!usedIndices.includes(randomIndex)) {
                options.push(vocabulary[randomIndex].reading);
                usedIndices.push(randomIndex);
              }
            }
            
            return options.sort(() => Math.random() - 0.5);
          };

          const [quizOptions] = useState(() => 
            vocabulary.map((_, index) => generateQuizOptions(index))
          );

          const startMode = (selectedMode) => {
            setMode(selectedMode);
            setCurrentIndex(0);
            setSelectedAnswer(null);
            setShowResult(false);
            setScore(0);
            setQuizCompleted(false);
            setWrongAnswers([]);
          };

          const handleQuizAnswer = (answer) => {
            setSelectedAnswer(answer);
            setShowResult(true);
            
            const isCorrect = answer === vocabulary[currentIndex].reading;
            
            if (isCorrect) {
              setScore(score + 1);
            } else {
              setWrongAnswers([...wrongAnswers, currentIndex]);
            }
          };

          const handleQuizNext = () => {
            if (currentIndex < vocabulary.length - 1) {
              setCurrentIndex(currentIndex + 1);
              setSelectedAnswer(null);
              setShowResult(false);
            } else {
              setQuizCompleted(true);
            }
          };

          if (mode === 'menu') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 flex items-center justify-center">
                <div className="max-w-2xl w-full">
                  <div className="text-center mb-8">
                    <h1 className="text-4xl font-bold text-blue-800 mb-2">JLPT</h1>
                    <h2 className="text-3xl font-bold text-indigo-600 mb-4">„Åã„Çì„Åò„Åå„Åè„Åó„ÇÖ„ÅÜ</h2>
                    <p className="text-gray-600">{vocabulary.length}„Åì„ÅÆ„Åü„Çì„Åî„Çí„Åæ„Å™„Åº„ÅÜÔºÅ</p>
                  </div>

                  <div className="grid md:grid-cols-2 gap-6">
                    <button
                      onClick={() => startMode('study')}
                      className="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1"
                    >
                      <div className="text-center">
                        <div className="text-6xl mb-4">üìñ</div>
                        <h3 className="text-2xl font-bold text-gray-800 mb-2">„Åå„Åè„Åó„ÇÖ„ÅÜ„É¢„Éº„Éâ</h3>
                        <p className="text-gray-600">„Åã„Çì„Åò„ÅÆ„Çà„Åø„Åã„Åü„Å®„ÅÑ„Åø„Çí„Åø„Çã</p>
                      </div>
                    </button>

                    <button
                      onClick={() => startMode('quiz')}
                      className="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1"
                    >
                      <div className="text-center">
                        <div className="text-6xl mb-4">üß†</div>
                        <h3 className="text-2xl font-bold text-gray-800 mb-2">„ÇØ„Ç§„Ç∫„É¢„Éº„Éâ</h3>
                        <p className="text-gray-600">„Åã„Çì„Åò„ÅÆ„ÇÇ„Çì„Å†„ÅÑ„Å´„Åì„Åü„Åà„Çã</p>
                      </div>
                    </button>
                  </div>
                </div>
              </div>
            );
          }

          if (mode === 'study') {
            const current = vocabulary[currentIndex];
            
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                <div className="max-w-3xl mx-auto">
                  <div className="mb-4">
                    <button
                      onClick={() => setMode('menu')}
                      className="px-4 py-2 bg-white rounded-lg shadow hover:shadow-md transition-all"
                    >
                      ‚Üê „É°„Éã„É•„Éº„Å´„ÇÇ„Å©„Çã
                    </button>
                  </div>

                  <div className="bg-white rounded-2xl shadow-lg p-8">
                    <div className="text-center mb-6">
                      <div className="flex justify-between items-center mb-4">
                        <span className="text-sm text-gray-600">„Åå„Åè„Åó„ÇÖ„ÅÜ„É¢„Éº„Éâ</span>
                        <span className="text-sm font-bold text-indigo-600">
                          {currentIndex + 1} / {vocabulary.length}
                        </span>
                      </div>
                      <div className="w-full bg-gray-200 rounded-full h-2 mb-6">
                        <div
                          className="bg-indigo-600 h-2 rounded-full transition-all"
                          style={{width: ((currentIndex + 1) / vocabulary.length * 100) + '%'}}
                        />
                      </div>
                    </div>

                    <div className="text-center mb-8">
                      <h2 className="text-6xl font-bold text-indigo-600 mb-8">{current.kanji}</h2>
                      
                      <div className="bg-blue-50 p-6 rounded-xl mb-4">
                        <p className="text-gray-600 text-sm mb-2">„Çà„Åø„Åã„Åü</p>
                        <p className="text-3xl font-bold text-gray-800">{current.reading}</p>
                      </div>

                      <div className="bg-green-50 p-6 rounded-xl mb-4">
                        <p className="text-gray-600 text-sm mb-2">English</p>
                        <p className="text-xl text-gray-800">{current.meaning}</p>
                      </div>

                      <div className="bg-purple-50 p-6 rounded-xl">
                        <p className="text-gray-600 text-sm mb-2">Ti·∫øng Vi·ªát</p>
                        <p className="text-xl text-gray-800">{current.vietnamese}</p>
                      </div>
                    </div>

                    <div className="flex gap-4">
                      <button
                        onClick={() => currentIndex > 0 && setCurrentIndex(currentIndex - 1)}
                        disabled={currentIndex === 0}
                        className={'flex-1 py-3 rounded-lg font-bold transition-all ' + (currentIndex === 0 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-indigo-600 text-white hover:bg-indigo-700')}
                      >
                        ‚Üê „Åæ„Åà„Å∏
                      </button>
                      
                      <button
                        onClick={() => currentIndex < vocabulary.length - 1 && setCurrentIndex(currentIndex + 1)}
                        disabled={currentIndex === vocabulary.length - 1}
                        className={'flex-1 py-3 rounded-lg font-bold transition-all ' + (currentIndex === vocabulary.length - 1 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-indigo-600 text-white hover:bg-indigo-700')}
                      >
                        „Å§„Åé„Å∏ ‚Üí
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          if (quizCompleted) {
            const percentage = Math.round((score / vocabulary.length) * 100);
            
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                <div className="max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-8">
                  <div className="text-center">
                    <div className="text-8xl mb-4">üèÜ</div>
                    <h2 className="text-3xl font-bold mb-4 text-gray-800">„ÇØ„Ç§„Ç∫„Åã„Çì„Çä„Çá„ÅÜÔºÅ</h2>
                    <div className="mb-6">
                      <p className="text-6xl font-bold text-indigo-600 mb-2">
                        {score}/{vocabulary.length}
                      </p>
                      <p className="text-2xl text-gray-600">„Åõ„ÅÑ„Åã„ÅÑ„Çä„Å§: {percentage}%</p>
                    </div>

                    {wrongAnswers.length > 0 && (
                      <div className="mb-6 p-4 bg-red-50 rounded-lg max-h-96 overflow-y-auto">
                        <h3 className="font-bold mb-2 text-red-800">„Åæ„Å°„Åå„Åà„Åü„ÇÇ„Çì„Å†„ÅÑ</h3>
                        <div className="space-y-2">
                          {wrongAnswers.map((index) => (
                            <div key={index} className="text-left p-3 bg-white rounded">
                              <div className="font-bold text-indigo-600 text-xl mb-1">{vocabulary[index].kanji}</div>
                              <div className="text-gray-700">„Çà„Åø„Åã„Åü: {vocabulary[index].reading}</div>
                              <div className="text-sm text-gray-600">{vocabulary[index].vietnamese}</div>
                            </div>
                          ))}
                        </div>
                      </div>
                    )}

                    <div className="flex gap-4 justify-center">
                      <button
                        onClick={() => {
                          setCurrentIndex(0);
                          setSelectedAnswer(null);
                          setShowResult(false);
                          setScore(0);
                          setQuizCompleted(false);
                          setWrongAnswers([]);
                        }}
                        className="px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"
                      >
                        üîÑ „ÇÇ„ÅÜ„ÅÑ„Å°„Å©
                      </button>
                      <button
                        onClick={() => setMode('menu')}
                        className="px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700"
                      >
                        „É°„Éã„É•„Éº„Å∏
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          const current = vocabulary[currentIndex];
          const options = quizOptions[currentIndex];
          const isCorrect = selectedAnswer === current.reading;

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
              <div className="max-w-3xl mx-auto">
                <div className="mb-4">
                  <button
                    onClick={() => setMode('menu')}
                    className="px-4 py-2 bg-white rounded-lg shadow hover:shadow-md transition-all"
                  >
                    ‚Üê „É°„Éã„É•„Éº„Å´„ÇÇ„Å©„Çã
                  </button>
                </div>

                <div className="bg-white rounded-2xl shadow-lg p-8">
                  <div className="mb-6">
                    <div className="flex justify-between items-center mb-4">
                      <span className="text-sm text-gray-600">„ÇØ„Ç§„Ç∫„É¢„Éº„Éâ</span>
                      <span className="text-sm font-bold text-indigo-600">
                        „ÇÇ„Çì„Å†„ÅÑ {currentIndex + 1} / {vocabulary.length}
                      </span>
                    </div>
                    <div className="w-full bg-gray-200 rounded-full h-2">
                      <div
                        className="bg-indigo-600 h-2 rounded-full transition-all"
                        style={{width: ((currentIndex + 1) / vocabulary.length * 100) + '%'}}
                      />
                    </div>
                  </div>

                  <div className="text-center mb-8">
                    <h2 className="text-7xl font-bold text-indigo-600 mb-6">{current.kanji}</h2>
                    <p className="text-xl text-gray-600">„Åì„ÅÆ„Çà„Åø„Åã„Åü„ÅØ„Å™„Çì„Åß„Åô„ÅãÔºü</p>
                  </div>

                  <div className="space-y-3 mb-6">
                    {options.map((option, index) => (
                      <button
                        key={index}
                        onClick={() => !showResult && handleQuizAnswer(option)}
                        disabled={showResult}
                        className={'w-full p-4 text-left rounded-lg border-2 transition-all ' + (
                          showResult
                            ? option === current.reading
                              ? 'bg-green-100 border-green-500'
                              : selectedAnswer === option
                              ? 'bg-red-100 border-red-500'
                              : 'bg-gray-50 border-gray-200'
                            : selectedAnswer === option
                            ? 'bg-indigo-100 border-indigo-500'
                            : 'bg-white border-gray-300 hover:border-indigo-300'
                        )}
                      >
                        <div className="flex items-center gap-3">
                          <span className="flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center font-bold">
                            {index + 1}
                          </span>
                          <span className="text-xl">{option}</span>
                          {showResult && option === current.reading && (
                            <span className="ml-auto text-2xl">‚úì</span>
                          )}
                          {showResult && selectedAnswer === option && option !== current.reading && (
                            <span className="ml-auto text-2xl">‚úó</span>
                          )}
                        </div>
                      </button>
                    ))}
                  </div>

                  {showResult && (
                    <div className={'p-4 rounded-lg mb-6 ' + (isCorrect ? 'bg-green-50' : 'bg-red-50')}>
                      <p className="font-bold mb-2 text-lg">
                        {isCorrect ? '‚úì „Åõ„ÅÑ„Åã„ÅÑÔºÅ' : '‚úó „Åæ„Å°„Åå„ÅÑ'}
                      </p>
                      <div className="text-gray-700">
                        <p className="mb-1">English: {current.meaning}</p>
                        <p>Ti·∫øng Vi·ªát: {current.vietnamese}</p>
                      </div>
                    </div>
                  )}

                  {showResult && (
                    <button
                      onClick={handleQuizNext}
                      className="w-full py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700"
                    >
                      {currentIndex < vocabulary.length - 1 ? '„Å§„Åé„ÅÆ„ÇÇ„Çì„Å†„ÅÑ„Å∏ ‚Üí' : '„Åë„Å£„Åã„Çí„Åø„Çã'}
                    </button>
                  )}
                </div>
              </div>
            </div>
          );
        }

        ReactDOM.render(<KanjiApp />, document.getElementById('root'));
    </script>
</body>
</html>